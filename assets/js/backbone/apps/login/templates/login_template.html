<form class="form-horizontal" role="form" id="login-password-form">
<div class="modal-body padding-bottom-none" id="login-view">

  <% if (message && !_.isUndefined(message.message)) { %>
  <div class="alert alert-warning">
    <%= message.message %>
  </div>
  <% } %>

  <% if (login.oauth.length > 0) { %>
  <div class="login-oauth">Login with
  <% _.each(login.oauth, function (e) { %>
  <div class="row">
    <div class="col-sm-offset-3 col-sm-6">
      <div class="login-option">
        <a href="<%= login.config[e].endpoint %>" class="btn btn-c0 btn-login">
          <img src="<%= login.config[e].image %>" alt="<%= login.config[e].name %>" class="btn-login-responsive"/>
        </a>
      </div>
    </div>
  </div>
  <% }); %>
  </div>
  <% } %>

  <% if (login.local.enabled === true) { %>
    <% if (login.oauth.length > 0) { %>
    <hr/>
    <% } %>
    <div class="alert alert-danger" id="login-error" style="display:none;"></div>
      <div class="form-group">
        <label for="username" class="col-sm-offset-1 col-sm-3 control-label">Email Address</label>
        <div class="col-sm-6">
          <input type="email" class="form-control" id="username" name="username" placeholder="Email Address"/>
        </div>
      </div>
      <div class="form-group margin-bottom-none">
        <label for="password" class="col-sm-offset-1 col-sm-3 control-label">Password</label>
        <div class="col-sm-6">
          <input type="password" class="form-control" id="password" name="password" placeholder="Password"/>
        </div>
      </div>
  </div>
  <div class="modal-footer modal-footer-grey" id="login-footer">
    <div class="row">
      <div class="col-md-3 col-md-push-9">
        <button type="submit" class="btn btn-c2 pull-right">Sign in</button>
      </div>
      <div class="col-md-9 col-md-pull-3 modal-footer-text">
        <a href="#forgot-password" id="forgot-password">Forgot your password?</a>
        <br/>
        <a href="#login-register" id="login-register">Sign up now</a>
      </div>
    </div>
  </div>
  <% } else { %>
  </div>
  <% } %>
</form>

<form role="form" id="registration-form">
<div class="modal-body padding-bottom-none" id="registration-view">
    <h2>Create a New Account</h2>

    <div class="form-group">
      <label for="rusername" class="control-label">Email Address</label>
      <div class="input-group">
        <input type="text" class="form-control validate" id="rusername" name="username" placeholder="Email Address" data-validate="button"/>
        <span class="input-group-btn">
          <a href="#" class="btn btn-danger" id="rusername-button" tabindex="-1">
            <i id="rusername-check" class="icon-remove"></i>
          </a>
        </span>
      </div>
      <span class="help-block error-button" style="display:none;">The email address is not valid or is already in use.</span>
    </div>

    <div class="row">
      <div class="col-sm-9 sm-nopadding">
        <div class="form-group">
          <label for="rpassword" class="control-label">Password</label>
          <input type="password" class="form-control validate" id="rpassword" name="password" placeholder="Password" data-validate="empty,password,confirm"/>
          <span class="help-block error-empty" style="display:none;">You must enter a password.</span>
          <span class="help-block error-password" style="display:none;">Your password does not meet password rules.</span>
          <span class="help-block error-confirm" style="display:none;">Your password does not match the password entered below.</span>
        </div>
        <div class="form-group">
          <label for="rpassword-confirm" class="control-label">Confirm Password</label>
          <input type="password" class="form-control" id="rpassword-confirm" placeholder="Confirm Password"/>
        </div>
      </div>
      <div class="col-sm-3 nopadding">
        <div class="password-rules-title">
          Must Contain:
        </div>
        <ul class="password-rules">
          <li class="success rule-username"><i class="icon icon-ok"></i> Not your email</li>
          <li class="error rule-username"><i class="icon icon-remove"></i> Not your email</li>
          <li class="success rule-length"><i class="icon icon-ok"></i> 8 characters or more</li>
          <li class="error rule-length"><i class="icon icon-remove"></i> 8 characters or more</li>
          <li class="success rule-upper"><i class="icon icon-ok"></i> Uppercase</li>
          <li class="error rule-upper"><i class="icon icon-remove"></i> Uppercase</li>
          <li class="success rule-lower"><i class="icon icon-ok"></i> Lowercase</li>
          <li class="error rule-lower"><i class="icon icon-remove"></i> Lowercase</li>
          <li class="success rule-number"><i class="icon icon-ok"></i> A Number</li>
          <li class="error rule-number"><i class="icon icon-remove"></i> A Number</li>
          <li class="success rule-symbol"><i class="icon icon-ok"></i> A Symbol</li>
          <li class="error rule-symbol"><i class="icon icon-remove"></i> A Symbol</li>
        </ul>
      </div>
    </div>

    <div class="checkbox">
      <label>
        <% if (login.terms.enabled === true) { %>
        <input type="checkbox" id="rterms" class="validate" data-validate="checked"> Yes, I agree to the <a href="<%= login.terms.link %>"><%= login.terms.name %></a>.
        <span class="help-block error-checked" style="display:none;">You must accept the <%= login.terms.name %> to register.</span>
        <% } %>
      </label>
    </div>

    <div class="form-group margin-bottom-none">
      <div class="row">
        <div class="col-sm-12">
          <div class="alert alert-danger" id="registration-error" style="display:none;"></div>
        </div>
      </div>
    </div>
</div>
<div class="modal-footer modal-footer-grey" id="registration-footer" style="display:none;">
  <div class="row">
    <div class="col-sm-12">
      <div class="pull-right">
        <button type="button" id="register-cancel" class="btn btn-c0">Cancel</button>
        <button type="submit" class="btn btn-c2">Register</button>
      </div>
    </div>
  </div>
</div>
</form>

<form role="form" id="forgot-form">
<div class="modal-body padding-bottom-none" id="forgot-view">
    <h2>Reset Your Password</h2>

    <p>Please enter your email address and we'll send you a link to reset your password</p>

    <div class="form-group">
      <label for="fusername" class="control-label">Email Address</label>
      <input type="text" class="form-control validate" id="fusername" name="username" placeholder="Email Address" data-validate="button"/>
    </div>
    <div class="form-group margin-bottom-none">
      <div class="row">
        <div class="col-sm-12">
          <div class="alert alert-danger" id="forgot-error" style="display:none;"></div>
        </div>
      </div>
    </div>
</div>
<div class="modal-footer modal-footer-grey" id="forgot-footer" style="display:none;">
  <div class="row">
    <div class="col-sm-12">
      <div class="pull-right">
        <button type="button" id="forgot-cancel" class="btn btn-c0">Cancel</button>
        <button type="submit" class="btn btn-c2">Reset Password</button>
      </div>
    </div>
  </div>
</div>
</form>

<div class="modal-body padding-bottom-none" id="forgot-done-view">
    <h2>Reset Your Password</h2>

    <p>
      Thank you! Please check your email. Click on the link provided to reset your password
    </p>
</div>
<div class="modal-footer modal-footer-grey" id="forgot-done-footer" style="display:none;">
  <div class="row">
    <div class="col-sm-12">
      <div class="pull-right">
        <button type="button" id="forgot-done-cancel" class="btn btn-c0">Back to Login</button>
      </div>
    </div>
  </div>
</div>
